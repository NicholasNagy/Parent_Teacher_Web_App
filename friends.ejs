<% include headers/headerFriends %>

<div class="nav_bar">
        <a class="title" href="/homepage">School App</a>

        <div class="quickAccess">

            <a class="quickAccess_title" href="#" onClick="dropDownTop();return false;"><em class="material-icons" style="float:left;font-size:30px;padding-right: 10px;">account_box</em><span name="user_name">NAME</span>  <em class="material-icons" style="float: right;font-size:30px">keyboard_arrow_down</em></a>



            <div class="quickAccess_list" id="quickAccess_list" style="display: none;">

                <a href="#"><i class="material-icons" style="font-size:20px;padding-right: 10px;">inbox</i>Inbox</a>
    <a href="/logout"><i class="material-icons" style="font-size:20px;padding-right: 10px; color: red">exit_to_app</i><span style="color: red">Log Out</span></a>

            </div>

        </div>
    </div>

    <div class="sidebar">
        <div class="sidebar_body">
            <div>
                <ul class="sidebar_menu">

                    <li class="sidebar_menu_item">
                        
                            <form action="/parentProfile" method="POST">

                                <input type="text" name="userID" style="display:none" value = "">
                                <button name="toProfile" class="toProfile"><i class="material-icons" style="float: left;padding-right:10px;">account_circle</i>My Account</button>
                                    </form>

                    </li>

                    <li class="sidebar_menu_item"><a href="#" onClick="dropDownSide();return false;"><em class="material-icons" style="float:left;padding-right:10px;">supervisor_account</em>Student Info <em class="material-icons" style="float: right;font-size:20px">keyboard_arrow_down</em></a>
                        <ul class="sidebar_studentInfo_dropDownMenu" id="dropDownList" style="display: block" >
                            <li class="sidebar_menu_item">
                                <a href="#"><i class="material-icons" style="float:left;padding-right:10px;font-size:20px">stars</i>Grades</a>
                            </li>
                            <li class="sidebar_menu_item">
                                <a href="#"><i class="material-icons" style="float:left;padding-right:10px;font-size:20px">date_range</i>Schedule</a>
                            </li>
                            <li class="sidebar_menu_item">
                                <a href="#"><i class="material-icons" style="float:left;padding-right:10px;font-size:20px">school</i>Classes</a>
                            </li>
                        </ul>

                    </li>

                    <li class="sidebar_menu_item">
                        <a href="#"><i class="material-icons" style="float:left;padding-right:10px;font-size:20px">contact_phone</i>Teacher Contact Info</a>
                    </li>

                    <li class="sidebar_menu_item">
                        <a href="#"><i class="material-icons" style="float:left;padding-right:10px;font-size:20px">help</i>Help</a>
                    </li>

                </ul>
            </div>
        </div>
    </div>

    <div class="friendsPage_content">


        <div class="search">

            <div class="searchBar">
                <p id="searchTitle">Search for Friends</p>
                
                <form action="/searchFriends" method="POST">

                  
                <input type="text" name ="logID" style="display:none" value = "<%= uID%>"></td>  
                <input type="text" name="searchField" class="searchField" placeholder="Search">
                <button name="searchFriendsBtn" class="searchFriendsBtn">Search</button>
                    </form>



                    <table class="searchResultsTable">

                              

            <% if(typeof queryResults !== 'undefined'){ %>
                <% var n = 0; %>
                    <% queryResults.forEach(function(u){ %> 
                        
              
                        <tr class="results">
        
                        
                            <% if(u == "No Results Found"){%>
                                <td class="person" style="text-align:center;"><span><%= u %></span></td>
                               
                     
                             <% }else{ %>

                             <td class="person"><span><%= u %></span></td>
                                      <form action="/addFriends" method="POST">

                                
                                        <% var key = idKeys[n];%>
                                      
                                
                                    <td class="person" style="text-align:center;"><input type="text"name="logID" style="display:none" value = "<%=uID%>"></td>     
                                      <td class="person" style="text-align:center;"><input type="text"name ="idToAdd" style="display:none;" value = "<%=key %>"></td>
                                          <td> <button name="friendRequestBtn" class="friendRequestBtn" >Friend Request</button> </td>
                                     </form>
        
                                 <% } %>
                                   </tr>
                        <% n++; %>   
                    <% }) %>
             <% } %>
                        </table>
            

            </div>


        </div>


            <div class="friends_List">

            <p id="fListTitle"> Friends List</p>
                <div class="list_Header">

                        <table class="friendsListTable">

                                <% if(typeof friendsList !== 'undefined'){ %>
                            
                                        <% friendsList.forEach(function(v){ %>

                                    

                                <tr class="friendTableRow">

                        
                                    <form action="/goToWall" method="POST">

                                        <td class="person"><span class="friendName"><%= v.friendName%></td>
                                            <!-- ID to go to wall -->
                                        <td class="person" style="display:none;"><input type="text"name="friendID" style="display:none;" value = "<%=v.f2%>"></td>

                                        <td> <button name="viewFriendWall" class="viewFriendWall">View Wall</button> </td>
                                    </form>              
                                </tr>
                                        <% }) %>
                                <% } %>
                        </table>
                </div>

            </div>



    </div>


    <!-- Show/hide drop down menu -->
    <script>


        function dropDownTop() {

            var dropDownList = document.getElementById("quickAccess_list");


            if(dropDownList.style.display === "block")
                dropDownList.style.display = "none";
            else
                dropDownList.style.display = "block";
        }


        function dropDownSide() {

            var dropDownList = document.getElementById("dropDownList");


            if(dropDownList.style.display === "block")
                dropDownList.style.display = "none";
            else
                dropDownList.style.display = "block";
        }


          function showNewPostFromBox() {

            var newPostTextForm = document.getElementById("post");


            if(newPostTextForm.style.display === "block")
                newPostTextForm.style.display = "none";
            else
                newPostTextForm.style.display = "block";
        }

    </script>

<% include headers/footer %>
